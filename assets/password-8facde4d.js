import{c as l,A as $,_ as Q,e as m,o as c,f as T,g as f,L as v,N as k,h as S,O as ae,a as oe,Q as se,s as ce,z as re,I as ie,P as le,r as x,b as ue,R as de,u as _,k as u,j as pe,p as I,q as fe,S as _e,F as me,T as B,U as N,V as he,t as A,m as V,W as ye,X as ge}from"./index-b5662a28.js";import{a as ve}from"./router-8eb31ab7.js";import"//at.alicdn.com/t/c/font_4262358_tx308o415h8.js";var we={icon:function(e,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M232 706h142c22.1 0 40 17.9 40 40v142h250V264H232v442z",fill:n}},{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32z",fill:e}},{tag:"path",attrs:{d:"M704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z",fill:e}}]}},name:"copy",theme:"twotone"};const be=we;function R(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){ke(t,o,n[o])})}return t}function ke(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var D=function(e,n){var a=R({},e,n.attrs);return l($,R({},a,{icon:be}),null)};D.displayName="CopyTwoTone";D.inheritAttrs=!1;const Ce=D;var Te={icon:function(e,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M254.89 758.85l125.57-125.57a176 176 0 01248.82-248.82L757 256.72Q651.69 186.07 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q69.27 145.91 173.09 221.05zM942.2 486.2Q889.46 375.11 816.7 305L672.48 449.27a176.09 176.09 0 01-227.22 227.21L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5z",fill:n}},{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zM878.63 165.56L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z",fill:e}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z",fill:e}}]}},name:"eye-invisible",theme:"twotone"};const Se=Te;function q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){Oe(t,o,n[o])})}return t}function Oe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E=function(e,n){var a=q({},e,n.attrs);return l($,q({},a,{icon:Se}),null)};E.displayName="EyeInvisibleTwoTone";E.inheritAttrs=!1;const ze=E;var Pe={icon:function(e,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M81.8 537.8a60.3 60.3 0 010-51.5C176.6 286.5 319.8 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c-192.1 0-335.4-100.5-430.2-300.2z",fill:n}},{tag:"path",attrs:{d:"M512 258c-161.3 0-279.4 81.8-362.7 254C232.6 684.2 350.7 766 512 766c161.4 0 279.5-81.8 362.7-254C791.4 339.8 673.3 258 512 258zm-4 430c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z",fill:n}},{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258s279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766z",fill:e}},{tag:"path",attrs:{d:"M508 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z",fill:e}}]}},name:"eye",theme:"twotone"};const xe=Pe;function H(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){Ie(t,o,n[o])})}return t}function Ie(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var M=function(e,n){var a=H({},e,n.attrs);return l($,H({},a,{icon:xe}),null)};M.displayName="EyeTwoTone";M.inheritAttrs=!1;const $e=M,De={name:"Empty",props:{emptyDescription:{type:String,default:"暂无数据"}},setup(){return{onBack:()=>{window.history.go(-1)}}}},Ee={style:{color:"#dce0e6"}};function Me(t,e,n,a,o,O){const w=m("a-button"),h=m("a-empty");return c(),T(h,null,{description:f(()=>[v("span",Ee,k(n.emptyDescription),1)]),default:f(()=>[l(w,{type:"primary",onClick:a.onBack},{default:f(()=>[S("返回")]),_:1},8,["onClick"])]),_:1})}const je=Q(De,[["render",Me]]),Le={currentPage:1,pageSize:10},Be=ae("curPwd",{state:()=>({list:[]}),actions:{getData(t){t=Object.assign(Le,t);const e=(t.currentPage-1)*t.pageSize,n=e+t.pageSize;return console.log(79879,this.list.slice(e,n)),this.list.slice(e,n).map((a,o)=>({...a,show:!1,key:o+e}))},setList(t){this.list=t,this.page.total=t.length}}}),U=t=>(ye("data-v-8be700d1"),t=t(),ge(),t),Ne={key:0,class:"main"},Ae={class:"title"},Ve={key:0},Re={key:0},qe={key:0,class:"showPwdSpan"},He={key:1,class:"showPwdSpan"},Qe={class:"iconClick"},Ue={key:1},Fe={key:1,class:"editable-row-operations"},We={key:0},Xe=U(()=>v("a",null,"退出",-1)),Ge={key:1},Je=["onClick"],Ye=U(()=>v("a",null,"删除",-1)),Ze="●●●●●●",Ke=oe({__name:"password",setup(t){const e=se(),n=ve(e),a=ce(),o=Be(),{proxy:{$convertToPinyin:O}}=fe(),{id:w,name:h}=a.findMenu(Number(n.id))??{};re(()=>{F()});const C=new ie(le,O(h)),F=async()=>{console.log(w,h,O(h));try{o.list=await C.getAllRecords(),j.value=o.getData()}catch{o.list=[]}},W=x([{title:"网站",dataIndex:"website",width:200,resizable:!0,align:"center"},{title:"账号",dataIndex:"account",width:200,resizable:!0,align:"center"},{title:"密码",dataIndex:"pwd",width:200,resizable:!0,align:"center"},{title:"备注",dataIndex:"remarks",resizable:!0,width:300,align:"center",ellipsis:!0},{title:"操作",width:120,dataIndex:"operation",align:"center"}]),j=x([]),y=x(j),d=ue({}),X=s=>{d[s]=he(y.value.find(r=>s===r.key))},G=s=>{const r=Object.assign(y.value.find(z=>s===z.key),d[s]);console.log(A(r));const b=A(r);console.log(b.id),C.updateRecord(b.id,b),delete d[s]},J=s=>{delete d[s]},Y=s=>{y.value=y.value.filter(r=>r.id!==s),C.deleteRecord(s)};function Z(s,r){r.width=s}const K=s=>{window.navigator.clipboard.writeText(s).then(()=>{V.success("复制成功")}).catch(r=>{V.error("复制失败"),console.error(`Error copying text: ${r}`)})},ee=()=>{window.history.go(-1)};return de(()=>{C.close()}),(s,r)=>{const b=m("a-button"),z=m("a-input"),te=m("a-typography-link"),L=m("a-popconfirm"),ne=m("a-table");return _(w)?(c(),u("div",Ne,[l(b,{onClick:r[0]||(r[0]=g=>ee()),shape:"circle",icon:pe(_(_e)),title:"返回",style:{"margin-bottom":"10px"}},null,8,["icon"]),l(ne,{columns:W.value,"data-source":y.value,onResizeColumn:Z,scroll:{y:275},bordered:""},{title:f(()=>[v("p",Ae,"密码管理 : "+k(_(h)),1)]),bodyCell:f(({column:g,text:P,record:i})=>[["website","account","pwd","remarks"].includes(g.dataIndex)?(c(),u("div",Ve,[d[i.key]?(c(),T(z,{key:0,value:d[i.key][g.dataIndex],"onUpdate:value":p=>d[i.key][g.dataIndex]=p,style:{margin:"-5px 0"}},null,8,["value","onUpdate:value"])):(c(),u(me,{key:1},[g.dataIndex=="pwd"?(c(),u("span",Re,[i.show?(c(),u("span",qe,k(P),1)):(c(),u("span",He,k(Ze))),v("span",Qe,[B(l(_($e),{onClick:p=>i.show=!0},null,8,["onClick"]),[[N,!i.show]]),B(l(_(ze),{onClick:p=>i.show=!1},null,8,["onClick"]),[[N,i.show]]),l(_(Ce),{onClick:p=>K(P)},null,8,["onClick"])])])):(c(),u("span",Ue,k(P),1))],64))])):g.dataIndex==="operation"?(c(),u("div",Fe,[d[i.key]?(c(),u("span",We,[l(te,{onClick:p=>G(i.key)},{default:f(()=>[S("保存")]),_:2},1032,["onClick"]),S("　 "),l(L,{"ok-text":"确定","cancel-text":"关闭",title:"确定退出吗?",onConfirm:p=>J(i.key)},{default:f(()=>[Xe]),_:2},1032,["onConfirm"])])):(c(),u("span",Ge,[v("a",{onClick:p=>X(i.key)},"编辑",8,Je),S("　 "),y.value.length?(c(),T(L,{key:0,title:"Sure to delete?",onConfirm:p=>Y(i.id)},{default:f(()=>[Ye]),_:2},1032,["onConfirm"])):I("",!0)]))])):I("",!0)]),_:1},8,["columns","data-source"])])):_(w)?I("",!0):(c(),T(je,{key:1,emptyDescription:"没有找到此菜单"}))}}});const at=Q(Ke,[["__scopeId","data-v-8be700d1"]]);export{at as default};
